<!-- REALIZAR TRANSACCION -->
<section>
    <div class="text-center bg-primary text-white my-4 p-0 py-3">
        <h5 class="m-0">TRANSACCION DE DIVISAS</h5>
    </div>

    <div class="mb-4 conversion">
        <form>
            <!-- Email -->
            <div class="mb-4 px-3">
                <label for="idEmailCliente" class="form-label fw-bold">Email</label>

                <input type="email" class="form-control bg-light" id="idEmailCliente" name="emailCliente"
                    placeholder="Ingrese e-mail" [(ngModel)]="transaccion.emailCliente" />
            </div>

            <!-- Cantidad -->
            <div class="mb-4 px-3">
                <label for="idCantidad" class="form-label fw-bold">Cantidad</label>

                <input type="number" class="form-control bg-light" id="idCantidad" name="cantidad"
                    placeholder="Ingrese cantidad" [(ngModel)]="transaccion.cantidadOrigen" />
            </div>

            <!-- Moneda Origen -->
            <div class="mb-4 px-3">
                <label for="idMonedaOrigen" class="form-label fw-bold">Moneda origen</label>

                <select class="form-select bg-light" name="monedaOrigen" id="idMonedaOrigen"
                    [(ngModel)]="transaccion.monedaOrigen">
                    <option value="ARS" selected>ARS Pesos Argentinos</option>

                    <option value="EUR">EUR Euros</option>

                    <option value="USD">USD D&oacute;lares EEUU</option>
                </select>
            </div>

            <!-- Moneda Destino -->
            <div class="mb-4 px-3">
                <label for="idMonedaDestino" class="form-label fw-bold">Moneda destino</label>

                <select class="form-select bg-light" name="monedaDestino" id="idMonedaDestino"
                    [(ngModel)]="transaccion.monedaDestino">
                    <option value="ARS">ARS Pesos Argentinos</option>

                    <option value="EUR">EUR Euros</option>

                    <option value="USD" selected>USD D&oacute;lares EEUU</option>
                </select>
            </div>

            <!-- Tasa Conversion -->
            <div class="mb-4 px-3">
                <label for="idTasaConversion" class="form-label fw-bold">Tasa de conversion</label>

                <input type="number" class="form-control bg-light" id="idTasaConversion" name="tasaConversion"
                    placeholder="Ingrese tasa de conversion" [(ngModel)]="transaccion.tasaConversion" />
            </div>

            <!-- Button Conversion -->
            <div class="mb-4 mx-3 d-grid">
                <button type="submit" class="btn btn-warning fw-bold mt-2" (click)="agregarTransaccion()">Convertir <i
                        class="fa-solid fa-cash-register"></i></button>
            </div>

            <!-- Conversion -->
            <div class="mb-4 px-3">
                <label for="conversion" class="form-label fw-bold">Transaccion</label>

                <input type="number" class="form-control bg-success text-white text-center" id="conversion" name="conversion" [(ngModel)]="conversion" disabled />
            </div>
        </form>
    </div>
</section>
<hr />

<!-- LISTA TRANSACCIONES -->
<section>
    <div class="text-center m-0 py-2">
        <button class="btn btn-primary" (click)="cargarTransacciones()">Transacciones</button>
    </div>

    <!-- Filtro -->
    <div *ngIf="filtroHabilitado">
        <div class="conversion">
            <form #filtroForm="ngForm">
                <!-- Moneda Origen -->
                <div class="mb-4 px-3">
                    <label for="idMonedaOrigen" class="form-label fw-bold">Moneda origen</label>

                    <select class="form-select bg-light" name="monedaOrigen" id="idMonedaOrigen" [(ngModel)]="mOrigen">
                        <option value="ARS" selected>ARS Pesos Argentinos</option>

                        <option value="EUR">EUR Euros</option>

                        <option value="USD">USD D&oacute;lares EEUU</option>
                    </select>
                </div>

                <!-- Moneda Destino -->
                <div class="mb-4 px-3">
                    <label for="idMonedaDestino" class="form-label fw-bold">Moneda destino</label>

                    <select class="form-select bg-light" name="monedaDestino" id="idMonedaDestino"
                        [(ngModel)]="mDestino">
                        <option value="ARS">ARS Pesos Argentinos</option>

                        <option value="EUR">EUR Euros</option>

                        <option value="USD" selected>USD D&oacute;lares EEUU</option>
                    </select>
                </div>

                <div class="text-center m-0 pt-2 pb-4">
                    <button type="submit" class="btn btn-primary"
                        (click)="cargarTransaccionesOrigenDestino()">Filtrar</button>
                </div>
            </form>
        </div>

        <!-- Tabla Transacciones -->
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover table-dark text-center">
                <thead class="table-light">
                    <tr>
                        <th scope="col">Email</th>
                        <th scope="col">Moneda origen</th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Moneda destino</th>                        
                        <th scope="col">Tasa de conversion</th>
                        <th scope="col">Transaccion</th>
                    </tr>
                </thead>
    
                <tbody class="table-group-divider">
                    <tr *ngFor="let t of transacciones">
                        <th>{{t.emailCliente}}</th>
                        <td>{{t.monedaOrigen}}</td>
                        <td>${{t.cantidadOrigen}}</td>
                        <td>{{t.monedaDestino}}</td>                        
                        <td>{{t.tasaConversion}}</td>
                        <td>${{t.cantidadDestino}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>