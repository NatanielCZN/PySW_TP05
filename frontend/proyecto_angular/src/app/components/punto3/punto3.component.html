<section class="m-0 mb-4 p-0">
    <div class="my-4 text-end">
        <button type="button" class="btn btn-success fw-bold" (click)="cargarFormularioTicket()">Agregar Ticket</button>
    </div>

    <!-- Filtro -->
    <div class="filtroCategoria">
        <form #filtroForm="ngForm" class="mt-2 mb-4">
            <fieldset class="form-group border rounded p-3">
                <legend class="w-auto fw-bold">Filtro</legend>
                <hr />

                <!-- Categoria -->
                <div class="mb-4">
                    <label for="idCategoria" class="form-label">Categoria</label>

                    <select class="form-select bg-light" name="categoria" id="idCategoria" [(ngModel)]="categoria"
                        required>
                        <option value="l" selected>Local</option>

                        <option value="e">Extranjero</option>
                    </select>
                </div>

                <div class="text-center m-0 pt-2 pb-4">
                    <button type="submit" class="btn btn-primary fw-bold mx-2 px-3"
                        (click)="cargarTicketsPorCategoria()" [disabled]="filtroForm.invalid">Filtrar</button>

                    <button *ngIf="activo" type="submit" class="btn btn-warning fw-bold mx-2 px-3"
                        (click)="cargarTickets()" [disabled]="filtroForm.invalid">Limpiar Filtro</button>
                </div>
            </fieldset>
        </form>
    </div>

    <!-- Tabla Tickets -->
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover table-dark text-center">
            <thead class="table-light">
                <tr>
                    <th scope="col">Precio</th>
                    <th scope="col">Categoria</th>
                    <th scope="col">Fecha de compra</th>
                    <th scope="col">Espectador</th>
                    <th scope="col">Opciones</th>
                </tr>
            </thead>

            <tbody class="table-group-divider">
                <tr *ngFor="let t of tickets">
                    <td>${{t.precioTicket}}</td>
                    <td>{{obtenerCategoriaEspectador(t.categoriaEspectador)}}</td>
                    <td>{{t.fechaCompra}}</td>
                    <td>{{t.espectador.nombre}} {{t.espectador.apellido}}</td>

                    <td>
                        <div class="mb-2">
                            <button class="btn btn-warning fw-bold" (click)="modificarTicket(t)">Modificar</button>
                        </div>

                        <div class="mt-2">
                            <button class="btn btn-danger fw-bold px-3" (click)="eliminarTicket(t)">Eliminar</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</section>